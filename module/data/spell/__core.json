{
	"spell": [
		{
			"name": "Aid",
			"source": "PHB",
			"activities": [
				{
					"type": "heal",
					"activation": {
						"type": "action"
					},
					"healing": {
						"types": [
							"healing"
						],
						"scaling": {
							"mode": "whole",
							"formula": "5"
						},
						"bonus": "5"
					},
					"effects": [
						{
							"foundryId": "aid"
						}
					]
				}
			],
			"effects": [
				{
					"foundryId": "aid",
					"changes": [
						{
							"key": "system.attributes.hp.tempmax",
							"mode": "ADD",
							"value": "+ (@item.level - 1) * 5",
							"priority": 20
						}
					],
					"duration": {
						"seconds": 28800
					}
				}
			],
			"migrationVersion": 3
		},
		{
			"name": "Antimagic Field",
			"source": "PHB",
			"_TODO": [
				"Provides damage immunity to magical damage, no other effects",
				"Attacks from magic items are *not* made mundane, damage is removed entirely",
				"Does not prevent application of magical effects"
			],
			"system": {
				"activities": [
					{
						"type": "utility",
						"target.template.type": "self"
					}
				]
			},
			"effects": [
				{
					"changes": [
						{
							"key": "system.traits.di.custom",
							"mode": "CUSTOM",
							"value": "magical",
							"priority": 20
						}
					],
					"duration": {
						"seconds": 3600
					},
					"flags": {
						"ActiveAuras": {
							"isAura": true,
							"aura": "All",
							"radius": 10,
							"height": true,
							"displayTemp": true
						},
						"dae": {
							"selfTargetAlways": true
						}
					},
					"requires": {
						"ActiveAuras": true
					}
				}
			],
			"migrationVersion": 3
		},
		{
			"name": "Blur",
			"source": "PHB",
			"_TODO": [
				"Need to use an activation condition to check attacker sight type"
			],
			"effects": [
				{
					"changes": [
						{
							"key": "flags.midi-qol.grants.disadvantage.attack.all",
							"mode": "CUSTOM",
							"value": "1",
							"priority": 20
						}
					],
					"duration": {
						"seconds": 60
					},
					"flags": {
						"dae": {
							"selfTargetAlways": true
						}
					}
				}
			],
			"migrationVersion": 3
		},
		{
			"name": "Comprehend Languages",
			"source": "PHB",
			"activities": [
				{
					"type": "utility",
					"activation": {
						"type": "action"
					},
					"effects": [
						{
							"foundryId": "comprehendLangua"
						}
					]
				}
			],
			"effects": [
				{
					"foundryId": "comprehendLangua",
					"changes": [
						{
							"key": "system.traits.languages.all",
							"mode": "CUSTOM",
							"value": "1",
							"priority": "20"
						}
					],
					"flags": {
						"dae": {
							"stackable": "noneName",
							"selfTargetAlways": true
						}
					}
				}
			],
			"migrationVersion": 3
		},
		{
			"name": "Frostbite",
			"source": "XGE",
			"activities": [
				{
					"type": "save",
					"activation": {
						"type": "action"
					},
					"save": {
						"ability": [
							"con"
						],
						"dc": {
							"calculation": "spellcasting"
						}
					},
					"damage": {
						"onSave": "none",
						"parts": [
							{
								"types": [
									"cold"
								],
								"number": 1,
								"denomination": 6,
								"scaling": {
									"mode": "whole",
									"number": 1
								}
							}
						]
					},
					"effects": [
						{
							"foundryId": "frostbite"
						}
					]
				}
			],
			"effects": [
				{
					"foundryId": "frostbite",
					"changes": [
						{
							"key": "flags.midi-qol.disadvantage.attack.mwak",
							"mode": "CUSTOM",
							"value": "1",
							"priority": 20
						},
						{
							"key": "flags.midi-qol.disadvantage.attack.rwak",
							"mode": "CUSTOM",
							"value": "1",
							"priority": 20
						}
					],
					"flags": {
						"core": {
							"statusId": "Frostbite"
						},
						"dae": {
							"specialDuration": [
								"turnEnd",
								"1Attack:mwak",
								"1Attack:rwak"
							]
						}
					}
				}
			],
			"migrationVersion": 3
		},
		{
			"name": "Guidance",
			"source": "PHB",
			"activities": [
				{
					"type": "utility",
					"activation": {
						"type": "action"
					},
					"effects": [
						{
							"foundryId": "guidance"
						}
					]
				}
			],
			"effects": [
				{
					"foundryId": "guidance",
					"changes": [
						{
							"key": "flags.midi-qol.optional.guidance.label",
							"mode": "CUSTOM",
							"value": "Guidance",
							"priority": "20"
						},
						{
							"key": "flags.midi-qol.optional.guidance.check.all",
							"mode": "CUSTOM",
							"value": "+ 1d4",
							"priority": "20"
						},
						{
							"key": "flags.midi-qol.optional.guidance.skill.all",
							"mode": "CUSTOM",
							"value": "+ 1d4",
							"priority": "20"
						},
						{
							"key": "system.attributes.init.bonus",
							"mode": "CUSTOM",
							"value": "+ 1d4",
							"priority": "20"
						}
					],
					"flags": {
						"dae": {
							"stackable": "noneName",
							"specialDuration": [
								"isInitiative"
							]
						}
					},
					"name": "Guidance"
				}
			],
			"migrationVersion": 3
		},
		{
			"name": "Haste",
			"source": "PHB",
			"_TODO": [
				"Missing \"Lethargy\" component"
			],
			"activities": [
				{
					"type": "utility",
					"activation": {
						"type": "action"
					},
					"effects": [
						{
							"foundryId": "haste"
						}
					]
				}
			],
			"effects": [
				{
					"foundryId": "haste",
					"changes": [
						{
							"key": "system.attributes.ac.bonus",
							"mode": "ADD",
							"value": "+2",
							"priority": 20
						},
						{
							"key": "system.attributes.movement.all",
							"mode": "CUSTOM",
							"value": "*2",
							"priority": 20
						},
						{
							"key": "flags.midi-qol.advantage.ability.save.dex",
							"mode": "CUSTOM",
							"value": "1",
							"priority": 20
						}
					],
					"duration": {
						"seconds": 60
					}
				}
			],
			"migrationVersion": 3
		},
		{
			"name": "Mind Blank",
			"source": "PHB",
			"activities": [
				{
					"type": "utility",
					"activation": {
						"type": "action"
					},
					"effects": [
						{
							"foundryId": "mindBlank"
						}
					]
				}
			],
			"effects": [
				{
					"foundryId": "mindBlank",
					"changes": [
						{
							"key": "system.traits.di.value",
							"mode": "ADD",
							"value": "psychic",
							"priority": "20"
						}
					],
					"name": "Mind Blank"
				}
			],
			"migrationVersion": 3
		},
		{
			"name": "Otiluke's Resilient Sphere",
			"source": "PHB",
			"activities": [
				{
					"type": "utility",
					"activation": {
						"type": "action"
					},
					"effects": [
						{
							"foundryId": "otilukesResilien"
						}
					]
				}
			],
			"effects": [
				{
					"foundryId": "otilukesResilien",
					"changes": [
						{
							"key": "system.attributes.movement.all",
							"mode": "CUSTOM",
							"value": "* 0.5",
							"priority": "20"
						},
						{
							"key": "system.traits.di.all",
							"mode": "CUSTOM",
							"value": "1",
							"priority": "20"
						}
					]
				}
			],
			"migrationVersion": 3
		},
		{
			"name": "Psychic Scream",
			"source": "XGE",
			"activities": [
				{
					"type": "utility",
					"activation": {
						"type": "action"
					},
					"effects": [
						{
							"foundryId": "psychicScream"
						}
					]
				}
			],
			"effects": [
				{
					"foundryId": "psychicScream",
					"statuses": [
						"stunned"
					],
					"changes": [
						{
							"key": "flags.midi-qol.OverTime",
							"mode": "OVERRIDE",
							"value": "label=Psychic Scream Stun (End of Turn),turn=end,saveDC=@attributes.spell.dc,saveAbility=int,saveMagic=true,killAnim=true",
							"priority": "20"
						}
					],
					"duration": {
						"rounds": 99
					},
					"name": "Psychic Scream - Stunned"
				}
			],
			"migrationVersion": 3
		},
		{
			"name": "Resistance",
			"source": "PHB",
			"activities": [
				{
					"type": "utility",
					"activation": {
						"type": "action"
					},
					"effects": [
						{
							"foundryId": "resistance"
						}
					]
				}
			],
			"effects": [
				{
					"foundryId": "resistance",
					"changes": [
						{
							"key": "flags.midi-qol.optional.resistance.label",
							"mode": "CUSTOM",
							"value": "Resistance",
							"priority": "20"
						},
						{
							"key": "flags.midi-qol.optional.resistance.save.all",
							"mode": "CUSTOM",
							"value": "+ 1d4",
							"priority": "20"
						}
					]
				}
			],
			"migrationVersion": 3
		},
		{
			"name": "Silvery Barbs",
			"source": "SCC",
			"activities": [
				{
					"type": "utility",
					"activation": {
						"type": "reaction"
					},
					"effects": [
						{
							"foundryId": "silveryBarbs"
						}
					],
					"useConditionText": "!reaction"
				}
			],
			"effects": [
				{
					"foundryId": "silveryBarbs",
					"changes": [
						{
							"key": "flags.midi-qol.advantage.all",
							"mode": "OVERRIDE",
							"value": "1",
							"priority": "20"
						}
					],
					"duration": {
						"seconds": 60
					},
					"flags": {
						"dae": {
							"specialDuration": [
								"isSave",
								"isCheck",
								"isSkill",
								"1Attack"
							]
						}
					}
				}
			],
			"migrationVersion": 3
		},
		{
			"name": "Tongues",
			"source": "PHB",
			"activities": [
				{
					"type": "utility",
					"activation": {
						"type": "action"
					},
					"effects": [
						{
							"foundryId": "tongues"
						}
					]
				}
			],
			"effects": [
				{
					"foundryId": "tongues",
					"changes": [
						{
							"key": "system.traits.languages.all",
							"mode": "CUSTOM",
							"value": "1",
							"priority": 20
						}
					],
					"duration": {
						"seconds": 3600
					}
				}
			],
			"migrationVersion": 3
		},
		{
			"name": "True Strike",
			"source": "PHB",
			"activities": [
				{
					"type": "utility",
					"activation": {
						"type": "action"
					},
					"effects": [
						{
							"foundryId": "trueStrike"
						}
					]
				}
			],
			"effects": [
				{
					"foundryId": "trueStrike",
					"changes": [
						{
							"key": "flags.midi-qol.advantage.attack.all",
							"value": "1",
							"mode": 5,
							"priority": 20
						}
					],
					"flags": {
						"dae": {
							"specialDuration": [
								"1Attack",
								"shortRest"
							],
							"selfTargetAlways": true
						}
					}
				}
			],
			"migrationVersion": 3
		},
		{
			"name": "Vicious Mockery",
			"source": "PHB",
			"activities": [
				{
					"type": "save",
					"activation": {
						"type": "action"
					},
					"damage": {
						"parts": [
							{
								"number": 1,
								"denomination": 4,
								"types": [
									"psychic"
								],
								"scaling": {
									"mode": "whole",
									"number": 1
								}
							}
						],
						"onSave": "none"
					},
					"save": {
						"ability": [
							"wis"
						],
						"dc": {
							"calculation": "spellcasting"
						}
					},
					"effects": [
						{
							"foundryId": "viciousMockery"
						}
					]
				}
			],
			"effects": [
				{
					"foundryId": "viciousMockery",
					"changes": [
						{
							"key": "flags.midi-qol.disadvantage.attack.all",
							"mode": "UPGRADE",
							"value": "1",
							"priority": "20"
						}
					],
					"duration": {
						"seconds": 6
					},
					"flags": {
						"dae": {
							"specialDuration": [
								"1Attack",
								"turnEnd"
							]
						}
					}
				}
			],
			"migrationVersion": 3
		}
	]
}
